filter(Family == "Halictidae" | Family == "Megachilidae" |Family == "Apidae" | Family == "Colletidae" | Family == "Andrenidae" | Family == "Melittidae") %>%
Select(Species, na.rm = TRUE)
library(dplyr)
beesOnly <- spec %>%
filter(Family == "Halictidae" | Family == "Megachilidae" |Family == "Apidae" | Family == "Colletidae" | Family == "Andrenidae" | Family == "Melittidae") %>%
select(Species, na.rm = TRUE)
library(dplyr)
beesOnly <- spec %>%
filter(Family == "Halictidae" | Family == "Megachilidae" |Family == "Apidae" | Family == "Colletidae" | Family == "Andrenidae" | Family == "Melittidae") %>%
drop.na(Species)
library(dplyr)
beesOnly <- spec %>%
filter(Family == "Halictidae" | Family == "Megachilidae" |Family == "Apidae" | Family == "Colletidae" | Family == "Andrenidae" | Family == "Melittidae") %>%
drop_na(Species)
### The dimensions of the subsetted data should be 99097 by 40
dim(beesOnly)
beesOnly$treatments
beesOnly$Treatments
beesOnly$SiteStatus
# For reproducibility purposes
set.seed(123)
knitr::opts_chunk$set(error = TRUE, warning = TRUE, message = TRUE)
suppressPackageStartupMessages({
if (requireNamespace("tidyverse", quietly = TRUE)) library(tidyverse)
})
# Load necessary libraries in R
library(tidyverse)
# For reproducibility purposes
set.seed(123)
## read in the specimen data
spec <- read.csv("data/specimens-complete.csv")
## explore the columns
str(spec)
unique(spec$Order)
unique(spec$Family)
sort(unique(spec$GenusSpecies))
library(dplyr)
beesOnly <- spec %>%
filter(Family == "Halictidae" | Family == "Megachilidae" |Family == "Apidae" | Family == "Colletidae" | Family == "Andrenidae" | Family == "Melittidae") %>%
drop_na(Species)
### The dimensions of the subsetted data should be 99097 by 40
dim(beesOnly)
subset(beesOnly, SiteStatus = "control" | SiteStatusBACI = "hedgerow" )
subset(beesOnly, SiteStatus == "control" | SiteStatusBACI == "hedgerow" )
subset(beesOnly, SiteStatus == "control" | SiteStatusBACI == "hedgerow" | NetPan == "net" | sex == "f" )
subset(beesOnly, SiteStatus == "control" | SiteStatusBACI == "hedgerow" | NetPan == "net" | Sex == "f" )
### The dimensions of the subsetted data should be 8810 by 40.
dim(beesOnly)
subset(beesOnly, SiteStatus == "control" & SiteStatusBACI == "hedgerow" $ NetPan == "net" & Sex == "f" )
subset(beesOnly, SiteStatus == "control" & SiteStatusBACI == "hedgerow" $ NetPan == "net" & Sex == "f" )
subset(beesOnly, SiteStatus = "control" & SiteStatusBACI = "hedgerow" $ NetPan = "net" & Sex = "f" )
library(dplyr)
library(tidyr)
library(dplyr)
library(tidyr)
beesOnly <- spec %>%
filter(Family == "Halictidae" | Family == "Megachilidae" |Family == "Apidae" | Family == "Colletidae" | Family == "Andrenidae" | Family == "Melittidae") %>%
drop_na(Species)
### The dimensions of the subsetted data should be 99097 by 40
dim(beesOnly)
library(dplyr)
library(tidyr)
beesOnly <- spec %>%
filter(Family %in% c("Halictidae", "Megachilidae", "Apidae",
"Colletidae", "Andrenidae", "Melittidae")) %>%
drop_na(Species)
### The dimensions of the subsetted data should be 99097 by 40
dim(beesOnly)
beesOnly <- spec %>%
filter(Family %in% c("Halictidae", "Megachilidae", "Apidae",
"Colletidae", "Andrenidae", "Melittidae")) %>%
drop_na(Species)
### The dimensions of the subsetted data should be 99097 by 40
dim(beesOnly)
library(dplyr)
library(tidyr)
beesOnly <- spec %>%
filter(Family %in% c("Halictidae", "Megachilidae", "Apidae", "Colletidae", "Andrenidae", "Melittidae")) %>%
drop_na(Species)
### The dimensions of the subsetted data should be 99097 by 40
dim(beesOnly)
beesOnly <- spec %>%
filter(Family %in% c("Halictidae", "Megachilidae", "Apidae", "Colletidae", "Andrenidae", "Melittidae")) %>%
drop_na(Species) %>%
drop_na(Family)
### The dimensions of the subsetted data should be 99097 by 40
dim(beesOnly)
beesOnly <- spec %>%
filter(Family %in% c("Halictidae", "Megachilidae", "Apidae", "Colletidae", "Andrenidae", "Melittidae")) %>%
replace_na(list(Species = NA)) %>%
drop_na(Species)
beesOnly <- spec %>%
filter(Family %in% c("Halictidae", "Megachilidae", "Apidae", "Colletidae", "Andrenidae", "Melittidae")) %>%
spec$Species[spec$Species == ""] <- NA %>%
drop_na(Species)
spec$Species[spec$Species == ""] <- NA
beesOnly <- spec %>%
filter(Family %in% c("Halictidae", "Megachilidae", "Apidae", "Colletidae", "Andrenidae", "Melittidae")) %>%
drop_na(Species)
### The dimensions of the subsetted data should be 99097 by 40
dim(beesOnly)
beesOnly$SiteStatus
subset(beesOnly, SiteStatus == "control" & SiteStatusBACI == "hedgerow" $ NetPan == "net" & Sex == "f" )
subset(beesOnly, SiteStatus == "control" & SiteStatusBACI == "hedgerow" & NetPan == "net" & Sex == "f" )
### The dimensions of the subsetted data should be 8810 by 40.
dim(beesOnly)
### The dimensions of the subsetted data should be 8810 by 40.
dim(beesOnly)
subset(beesOnly, SiteStatus == "control" & SiteStatusBACI == "hedgerow" & NetPan == "net" & Sex == "f" )
### The dimensions of the subsetted data should be 8810 by 40.
dim(beesOnly)
beesOnly %>%
subset(SiteStatus == "control" & SiteStatusBACI == "hedgerow" & NetPan == "net" & Sex == "f" )x
beesOnly %>%
subset(SiteStatus == "control" & SiteStatusBACI == "hedgerow" & NetPan == "net" & Sex == "f" )
### The dimensions of the subsetted data should be 8810 by 40.
dim(beesOnly)
### let's drop all the random columns we don't care about
beesOnly_compact <- select(UniqueID, GenusSpecies, Site, SiteStatus, Year)
beesOnly %>%
subset(SiteStatus == "control" | SiteStatusBACI == "hedgerow" | NetPan == "net" | Sex == "f" )
### The dimensions of the subsetted data should be 8810 by 40.
dim(beesOnly)
beesOnly %>%
subset(SiteStatus == "control" | SiteStatusBACI == "hedgerow" & NetPan == "net" & Sex == "f" )
### The dimensions of the subsetted data should be 8810 by 40.
dim(beesOnly)
beesOnly %>%
filter(SiteStatus == "control" & SiteStatusBACI == "hedgerow" & NetPan == "net" & Sex == "f" )
### The dimensions of the subsetted data should be 8810 by 40.
dim(beesOnly)
### The dimensions of the subsetted data should be 8810 by 40.
dim(beesOnly)
beesOnly1 <- beesOnly %>%
filter(SiteStatus == "control" & SiteStatusBACI == "hedgerow" & NetPan == "net" & Sex == "f" )
### The dimensions of the subsetted data should be 8810 by 40.
dim(beesOnly1)
beesOnly1 <- beesOnly %>%
filter(SiteStatus == "control" | SiteStatusBACI == "hedgerow" | NetPan == "net" | Sex == "f" )
### The dimensions of the subsetted data should be 8810 by 40.
dim(beesOnly1)
beesOnly %>%
filter(SiteStatus == "control" | SiteStatusBACI == "hedgerow" | NetPan == "net" | Sex == "f" )
### The dimensions of the subsetted data should be 8810 by 40.
dim(beesOnly)
beesOnly$SiteStatus
beesOnly %>%
filter(SiteStatus == "control" | SiteStatusBACI == "hedgerow" | SiteStatusBACI == "control" | NetPan == "net" | Sex == "f" )
### The dimensions of the subsetted data should be 8810 by 40.
dim(beesOnly)
### The dimensions of the subsetted data should be 8810 by 40.
dim(beesOnly)
beesOnly %>%
filter(SiteStatus == "control" & SiteStatusBACI == "hedgerow" | SiteStatusBACI == "control" & NetPan == "net" & Sex == "f" )
### The dimensions of the subsetted data should be 8810 by 40.
dim(beesOnly)
### The dimensions of the subsetted data should be 8810 by 40.
dim(beesOnly)
beesOnly <- beesOnly %>%
filter(SiteStatus == "control" & SiteStatusBACI == "hedgerow" | SiteStatusBACI == "control" & NetPan == "net" & Sex == "f" )
### The dimensions of the subsetted data should be 8810 by 40.
dim(beesOnly)
beesOnly <- beesOnly %>%
subset(SiteStatus == "control" & SiteStatusBACI == "hedgerow" | SiteStatusBACI == "control" & NetPan == "net" & Sex == "f" )
### The dimensions of the subsetted data should be 8810 by 40.
dim(beesOnly)
beesOnly <- beesOnly %>%
subset(SiteStatus == "control" & SiteStatusBACI == "hedgerow" & SiteStatusBACI == "control" & NetPan == "net" & Sex == "f" )
### The dimensions of the subsetted data should be 8810 by 40.
dim(beesOnly)
beesOnly <- beesOnly %>%
subset(SiteStatus == "control" & SiteStatusBACI == "hedgerow" | SiteStatusBACI == "control" & NetPan == "net" & Sex == "f" )
### The dimensions of the subsetted data should be 8810 by 40.
dim(beesOnly)
beesOnly <- beesOnly %>%
subset(SiteStatus == "control" & SiteStatusBACI == "hedgerow" | SiteStatusBACI == "control" & NetPan == "net" & Sex == "f" )
### The dimensions of the subsetted data should be 8810 by 40.
dim(beesOnly)
beesOnly %>%
subset(SiteStatus == "control" & SiteStatusBACI == "hedgerow" | SiteStatusBACI == "control" & NetPan == "net" & Sex == "f" )
### The dimensions of the subsetted data should be 8810 by 40.
dim(beesOnly)
### The dimensions of the subsetted data should be 8810 by 40.
dim(beesOnly)
# For reproducibility purposes
set.seed(123)
knitr::opts_chunk$set(error = TRUE, warning = TRUE, message = TRUE)
suppressPackageStartupMessages({
if (requireNamespace("tidyverse", quietly = TRUE)) library(tidyverse)
})
# Load necessary libraries in R
library(tidyverse)
# For reproducibility purposes
set.seed(123)
## read in the specimen data
spec <- read.csv("data/specimens-complete.csv")
## explore the columns
str(spec)
unique(spec$Order)
unique(spec$Family)
sort(unique(spec$GenusSpecies))
library(dplyr)
library(tidyr)
spec$Species[spec$Species == ""] <- NA
beesOnly <- spec %>%
filter(Family %in% c("Halictidae", "Megachilidae", "Apidae", "Colletidae", "Andrenidae", "Melittidae")) %>%
drop_na(Species)
### The dimensions of the subsetted data should be 99097 by 40
dim(beesOnly)
beesOnly$SiteStatus
beesOnly %>%
subset(SiteStatus == "control" & SiteStatusBACI == "hedgerow" | SiteStatusBACI == "control" & NetPan == "net" & Sex == "f" )
### The dimensions of the subsetted data should be 8810 by 40.
dim(beesOnly)
### The dimensions of the subsetted data should be 8810 by 40.
dim(beesOnly)
beesOnly <- beesOnly %>%
subset(SiteStatus == "control" & SiteStatusBACI == "hedgerow" | SiteStatusBACI == "control" & NetPan == "net" & Sex == "f" )
### The dimensions of the subsetted data should be 8810 by 40.
dim(beesOnly)
beesOnly <- beesOnly %>%
subset(SiteStatus == "control" & SiteStatusBACI == "hedgerow" | SiteStatusBACI == "control" & NetPan == "net" & Sex == "f" )
### The dimensions of the subsetted data should be 8810 by 40.
dim(beesOnly)
beesOnlytemp <- beesOnly %>%
subset(SiteStatus == "control" & SiteStatusBACI == "hedgerow" & SiteStatusBACI == "control" & NetPan == "net" & Sex == "f" )
### The dimensions of the subsetted data should be 8810 by 40.
dim(beesOnly)
beesOnlytemp <- beesOnly %>%
subset(SiteStatus == "control" & SiteStatusBACI == "hedgerow" & SiteStatusBACI == "control" & NetPan == "net" & Sex == "f" )
### The dimensions of the subsetted data should be 8810 by 40.
dim(beesOnlytemp)
# For reproducibility purposes
set.seed(123)
knitr::opts_chunk$set(error = TRUE, warning = TRUE, message = TRUE)
suppressPackageStartupMessages({
if (requireNamespace("tidyverse", quietly = TRUE)) library(tidyverse)
})
# Load necessary libraries in R
library(tidyverse)
# For reproducibility purposes
set.seed(123)
## read in the specimen data
spec <- read.csv("data/specimens-complete.csv")
## explore the columns
str(spec)
unique(spec$Order)
unique(spec$Family)
sort(unique(spec$GenusSpecies))
library(dplyr)
library(tidyr)
spec$Species[spec$Species == ""] <- NA
beesOnly <- spec %>%
filter(Family %in% c("Halictidae", "Megachilidae", "Apidae", "Colletidae", "Andrenidae", "Melittidae")) %>%
drop_na(Species)
### The dimensions of the subsetted data should be 99097 by 40
dim(beesOnly)
beesOnly$SiteStatus
unique(beesOnly$SiteStatus)
beesOnlytemp <- beesOnly %>%
subset(SiteStatus == "control" & SiteStatus == "mature" & NetPan == "net" & Sex == "f" )
### The dimensions of the subsetted data should be 8810 by 40.
dim(beesOnlytemp)
library(dplyr)
library(tidyr)
spec$Species[spec$Species == ""] <- NA
beesOnly <- spec %>%
filter(Family %in% c("Halictidae", "Megachilidae", "Apidae", "Colletidae", "Andrenidae", "Melittidae")) %>%
drop_na(Species)
### The dimensions of the subsetted data should be 99097 by 40
dim(beesOnly)
unique(beesOnly$SiteStatus)
beesOnlytemp <- beesOnly %>%
subset(SiteStatus == "control" & SiteStatus == "mature" & NetPan == "net" & Sex == "f" )
### The dimensions of the subsetted data should be 8810 by 40.
dim(beesOnlytemp)
beesOnlytemp <- beesOnly %>%
filter(SiteStatus %in% c("control", "mature"), NetPan %in% c("net"), Sex %in% c("f"))
### The dimensions of the subsetted data should be 8810 by 40.
dim(beesOnlytemp)
### let's drop all the random columns we don't care about
beesOnly_compact <- beesOnlytemp %>%
select(UniqueID, GenusSpecies, Site, SiteStatus, Year)
View(beesOnly1)
View(beesOnly_compact)
### load the traits table, this includes traits for all the bees
traits <- read.csv('data/bee.csv')
View(traits)
df1 <- data.frame(x = c(1:4, NA), y = 2)
df2 <- data.frame(x = c(1:2), z = 3)
head(df1)
head(df2)
inner <- inner_join(df1, df2)
dim(inner)
head(inner)
### your code here
smalltraits <- traits %>%
select(GenusSpecies, MeanITD, d)
View(smalltraits)
spec.traits <- beesOnly_compact %>%
inner_join(traits, by = c("GenusSpecies"))
View(spec.traits)
spec.traits <- beesOnly_compact %>%
inner_join(smalltraits, by = c("GenusSpecies"))
### The dimensions should be 8810    7
dim(spec.traits)
### your code here
smalltraits <- traits %>%
select(GenusSpecies, MeanITD, d)
spec.traits <- beesOnly_compact %>%
inner_join(smalltraits, by = c("GenusSpecies"))
### The dimensions should be 8810    7
dim(spec.traits)
### let's drop all the random columns we don't care about
beesOnly_compact <- beesOnlytemp %>%
select(UniqueID, GenusSpecies, Site, SiteStatus, Year)
### load the traits table, this includes traits for all the bees
traits <- read.csv('data/bee.csv')
### your code here
smalltraits <- traits %>%
select(GenusSpecies, MeanITD, d)
spec.traits <- beesOnly_compact %>%
inner_join(smalltraits, by = c("GenusSpecies"))
### The dimensions should be 8810    7
dim(spec.traits)
View(beesOnly1)
# For reproducibility purposes
set.seed(123)
knitr::opts_chunk$set(error = TRUE, warning = TRUE, message = TRUE)
suppressPackageStartupMessages({
if (requireNamespace("tidyverse", quietly = TRUE)) library(tidyverse)
})
# Load necessary libraries in R
library(tidyverse)
# For reproducibility purposes
set.seed(123)
## read in the specimen data
spec <- read.csv("data/specimens-complete.csv")
## explore the columns
str(spec)
unique(spec$Order)
unique(spec$Family)
sort(unique(spec$GenusSpecies))
library(dplyr)
library(tidyr)
spec$Species[spec$Species == ""] <- NA
beesOnly <- spec %>%
filter(Family %in% c("Halictidae", "Megachilidae", "Apidae", "Colletidae", "Andrenidae", "Melittidae")) %>%
drop_na(Species)
### The dimensions of the subsetted data should be 99097 by 40
dim(beesOnly)
unique(beesOnly$SiteStatus)
beesOnlytemp <- beesOnly %>%
filter(SiteStatus %in% c("control", "mature"), NetPan %in% c("net"), Sex %in% c("f"))
### The dimensions of the subsetted data should be 8810 by 40.
dim(beesOnlytemp)
### let's drop all the random columns we don't care about
beesOnly_compact <- beesOnlytemp %>%
select(UniqueID, GenusSpecies, Site, SiteStatus, Year)
### load the traits table, this includes traits for all the bees
traits <- read.csv('data/bee.csv')
df1 <- data.frame(x = c(1:4, NA), y = 2)
df2 <- data.frame(x = c(1:2), z = 3)
head(df1)
head(df2)
inner <- inner_join(df1, df2)
dim(inner)
head(inner)
df1 <- data.frame(x = c(1:100), y = 2)
df2 <- data.frame(x = c(1:10), z = 3)
head(df1)
head(df2)
left <- left_join(df1, df2)
dim(left)
head(left)
df1 <- data.frame(x = c(1:100), y = 2)
df2 <- data.frame(x = c(1:10), z = 3)
head(df1)
head(df2)
right <- right_join(df1, df2)
dim(right)
head(right)
df1 <- data.frame(x = c(1:100), y = 2)
df2 <- data.frame(x = c(1:10, 100:200), z = 3)
df1
df2
full <- full_join(df1, df2)
dim(full)
head(full)
### your code here
smalltraits <- traits %>%
select(GenusSpecies, MeanITD, d)
spec.traits <- beesOnly_compact %>%
inner_join(smalltraits, by = c("GenusSpecies"))
### The dimensions should be 8810    7
dim(spec.traits)
### your code here
is.na(spec.traits)
### your code here
count(is.na(spec.traits))
### your code here
count(is.na(spec.traits))
### your code here
sum(is.na(spec.traits))
### your code here
sum(is.na(MeanITD))
### your code here
sum(is.na("MeanITD"))
### your code here
smalltraits <- traits %>%
select(GenusSpecies, MeanITD, d)
spec.traits <- beesOnly_compact %>%
left_join(smalltraits, by = c("GenusSpecies"))
### The dimensions should be 8810    7
dim(spec.traits)
### your code here
sum(is.na("MeanITD"))
### your code here
sum(is.na("MeanITD"))
### your code here
spec.traits %>%
sum(is.na("MeanITD"))
spec.traits %>%
sum(is.na("MeanITD"))
### your code here
is.na(MeanITD)
### your code here
spec.traits$MeanITD[spec.traits$MeanITD == ""] <- NA
is.na(MeanITD)
### your code here
spec.traits$MeanITD[spec.traits$MeanITD == ""] <- NA
is.na(MeanITD)
count(is.na(MeanITD))
### your code here
smalltraits <- traits %>%
select(GenusSpecies, MeanITD, d)
spec.traits <- beesOnly_compact %>%
left_join(smalltraits, by = c("GenusSpecies"))
### The dimensions should be 8810    7
dim(spec.traits)
### your code here
is.na(MeanITD)
### your code here
sum(is.na(MeanITD))
### your code here
spec.traits %>%
sum(is.na(MeanITD))
sum(is.na("MeanITD"))
is.na("MeanITD")
count(is.na("MeanITD"))
sum(is.na("MeanITD"))
### your code here
which(is.na("MeanITD"))
is.na("MeanITD")
is.na(spec.traits$MeanITD)
sum(is.na(spec.traits$MeanITD))
spec.traits$GenusSpecies[(is.na(spec.traits$MeanITD))]
unique(spec.traits$GenusSpecies[(is.na(spec.traits$MeanITD))])
list(unique(spec.traits$GenusSpecies[(is.na(spec.traits$MeanITD))]))
### your code here
unique(spec.traits$GenusSpecies[(is.na(spec.traits$MeanITD))])
### your code here
spec.traits %>%
drop_na(spec.traits$MeanITD)
### your code here
spec.traits %>%
drop_na(MeanITD)
### The dimensions should be 8634 7
(spec.traits)
### The dimensions should be 8634 7
dim(spec.traits)
### your code here
spec.traits <- spec.traits %>%
drop_na(MeanITD)
### The dimensions should be 8634 7
dim(spec.traits)
### your code here
spec.traitsTEMP <- spec.traits %>%
group_by(site, year, status) %>%
summaraize(sys.traits = mean(MeanITD))
### your code here
spec.traitsTEMP <- spec.traits %>%
group_by(site, year, status) %>%
summarize(sys.traits = mean(MeanITD))
### your code here
spec.traitsTEMP <- spec.traits %>%
group_by(Site, Year, SiteStatus) %>%
summarize(sys.traits = mean(MeanITD))
View(spec.traitsTEMP)
### your code here
sys.traits <- spec.traits %>%
group_by(Site, Year, SiteStatus) %>%
summarize(avg_bodysize = mean(MeanITD),
avg_specialization = mean(d)
)
View(sys.traits)
### body size
library(ggplot2)
ggplot(sys.traits, aes(x = avg_bodysize)) +
geom_histogram()
ggplot(sys.traits, aes(x = avg_bodysize)) +
geom_histogram() + labs(x = "Average Body Size")
ggplot(sys.traits, aes(x = avg_bodysize)) +
geom_histogram(bins = 20) + labs(x = "Average Body Size")
ggplot(sys.traits, aes(x = avg_bodysize)) +
geom_histogram(bins = 15) + labs(x = "Average Body Size")
ggplot(sys.traits, aes(x = avg_bodysize)) +
geom_histogram(bins = 15) + labs(x = "Average Body Size")
### Specialization
### your code here
ggplot(sys.traits, aes(x = avg_specialization)) +
geom_histogram(bins = 15) + labs(x = "Average Specialization")
