CHM_HARV_Cropped <- crop(x = CHM_HARV, y = aoi_boundary_HARV)
CHM_HARV_Cropped_df <- as.data.frame(CHM_HARV_Cropped, xy = TRUE)
ggplot() +
geom_sf(data = st_as_sfc(st_bbox(CHM_HARV)), fill = "green",
color = "green", alpha = .2) +
geom_raster(data = CHM_HARV_Cropped_df,
aes(x = x, y = y, fill = HARV_chmCrop)) +
scale_fill_gradientn(name = "Canopy Height", colors = terrain.colors(10))
ggplot() +
geom_raster(data = CHM_HARV_Cropped_df,
aes(x = x, y = y, fill = HARV_chmCrop)) +
geom_sf(data = aoi_boundary_HARV, color = "blue", fill = NA) +
scale_fill_gradientn(name = "Canopy Height", colors = terrain.colors(10)) +
coord_sf()
ext(CHM_HARV)
ext(CHM_HARV_Cropped)
ext(aoi_boundary_HARV)
ext(plot_locations_sp_HARV)
View(plot_locations_sp_HARV)
View(plot_locations_sp_HARV)
CHM_plot_HARVCropped <- crop(x = CHM_HARV, y = plot_location_sp_HARV)
CHM_plot_HARVCropped <- crop(x = CHM_HARV, y = plot_locations_sp_HARV)
CHM_plot_HARVCropped_df <- as.data.frame(CHM_plot_HARVCropped, xy = TRUE)
View(CHM_plot_HARVCropped_df)
ggplot() +
geom_raster(data = CHM_plot_HARVCropped_df, aes(x = x, y = y, fill = CHM_plots_HARVCropped))
ggplot() +
geom_raster(data = CHM_plot_HARVCropped_df, aes(x = x, y = y, fill = CHM_plot_HARVCropped))
CHM_plot_HARVCropped <- crop(x = CHM_HARV, y = plot_locations_sp_HARV)
CHM_plot_HARVCropped_df <- as.data.frame(CHM_plot_HARVCropped, xy = TRUE)
ggplot() +
geom_raster(data = CHM_plot_HARVCropped_df, aes(x = x, y = y, fill = CHM_plot_HARVCropped))
ggplot() +
geom_raster(data = CHM_plot_HARVCropped_df, aes(x = x, y = y, fill = HARV_chmCrop))
CHM_plots_HARVcrop <- crop(x = CHM_HARV, y = plot_locations_sp_HARV)
CHM_plots_HARVcrop_df <- as.data.frame(CHM_plots_HARVcrop, xy = TRUE)
ggplot() +
geom_raster(data = CHM_plots_HARVcrop_df,
aes(x = x, y = y, fill = HARV_chmCrop)) +
scale_fill_gradientn(name = "Canopy Height", colors = terrain.colors(10)) +
geom_sf(data = plot_locations_sp_HARV) +
coord_sf()
CHM_plot_HARVCropped <- crop(x = CHM_HARV, y = plot_locations_sp_HARV)
CHM_plot_HARVCropped_df <- as.data.frame(CHM_plot_HARVCropped, xy = TRUE)
ggplot() +
geom_raster(data = CHM_plot_HARVCropped_df, aes(x = x, y = y, fill = HARV_chmCrop)) +
geom_sf(data = plot_locations_sp_HARV)
ggplot() +
geom_raster(data = CHM_plot_HARVCropped_df, aes(x = x, y = y, fill = HARV_chmCrop)) +
geom_sf(data = plot_locations_sp_HARV, aes(col = "white"))
ggplot() +
geom_raster(data = CHM_plot_HARVCropped_df, aes(x = x, y = y, fill = HARV_chmCrop)) +
geom_sf(data = plot_locations_sp_HARV, aes(color = "white"))
ggplot() +
geom_raster(data = CHM_plot_HARVCropped_df, aes(x = x, y = y, fill = HARV_chmCrop)) +
geom_sf(data = plot_locations_sp_HARV, aes(color = "red"))
CHM_plot_HARVCropped <- crop(x = CHM_HARV, y = plot_locations_sp_HARV)
CHM_plot_HARVCropped_df <- as.data.frame(CHM_plot_HARVCropped, xy = TRUE)
ggplot() +
geom_raster(data = CHM_plot_HARVCropped_df, aes(x = x, y = y, fill = HARV_chmCrop)) +
scale_fill_gradientn(name = "Canopy Height")
CHM_plot_HARVCropped <- crop(x = CHM_HARV, y = plot_locations_sp_HARV)
CHM_plot_HARVCropped_df <- as.data.frame(CHM_plot_HARVCropped, xy = TRUE)
ggplot() +
geom_raster(data = CHM_plot_HARVCropped_df, aes(x = x, y = y, fill = HARV_chmCrop)) +
scale_fill_gradientn(name = "Canopy Height", colors = terrain.colors(4))
geom_sf(data = plot_locations_sp_HARV, aes(color = "red"))
CHM_plot_HARVCropped <- crop(x = CHM_HARV, y = plot_locations_sp_HARV)
CHM_plot_HARVCropped_df <- as.data.frame(CHM_plot_HARVCropped, xy = TRUE)
ggplot() +
geom_raster(data = CHM_plot_HARVCropped_df, aes(x = x, y = y, fill = HARV_chmCrop)) +
scale_fill_gradientn(name = "Canopy Height", colors = terrain.colors(15))
geom_sf(data = plot_locations_sp_HARV, aes(color = "red"))
geom_sf(data = plot_locations_sp_HARV, aes(color = "blue"))
CHM_plot_HARVCropped <- crop(x = CHM_HARV, y = plot_locations_sp_HARV)
CHM_plot_HARVCropped_df <- as.data.frame(CHM_plot_HARVCropped, xy = TRUE)
ggplot() +
geom_raster(data = CHM_plot_HARVCropped_df, aes(x = x, y = y, fill = HARV_chmCrop)) +
scale_fill_gradientn(name = "Canopy Height", colors = terrain.colors(15))
geom_sf(data = plot_locations_sp_HARV, aes(color = "blue"))
CHM_plot_HARVCropped <- crop(x = CHM_HARV, y = plot_locations_sp_HARV)
CHM_plot_HARVCropped_df <- as.data.frame(CHM_plot_HARVCropped, xy = TRUE)
ggplot() +
geom_raster(data = CHM_plot_HARVCropped_df, aes(x = x, y = y, fill = HARV_chmCrop)) +
scale_fill_gradientn(name = "Canopy Height", colors = terrain.colors(15)) +
geom_sf(data = plot_locations_sp_HARV, aes(color = "blue"))
CHM_plot_HARVCropped <- crop(x = CHM_HARV, y = plot_locations_sp_HARV)
CHM_plot_HARVCropped_df <- as.data.frame(CHM_plot_HARVCropped, xy = TRUE)
ggplot() +
geom_raster(data = CHM_plot_HARVCropped_df, aes(x = x, y = y, fill = HARV_chmCrop)) +
scale_fill_gradientn(name = "Canopy Height", colors = terrain.colors(15)) +
geom_sf(data = plot_locations_sp_HARV, aes(colors = "blue"))
CHM_plot_HARVCropped <- crop(x = CHM_HARV, y = plot_locations_sp_HARV)
CHM_plot_HARVCropped_df <- as.data.frame(CHM_plot_HARVCropped, xy = TRUE)
ggplot() +
geom_raster(data = CHM_plot_HARVCropped_df, aes(x = x, y = y, fill = HARV_chmCrop)) +
scale_fill_gradientn(name = "Canopy Height", colors = terrain.colors(15)) +
geom_sf(data = plot_locations_sp_HARV)
# code not shown, demonstration only
# create CHM_plots_HARVcrop as a vector layer
CHM_plots_HARVcrop_sp <- st_as_sf(CHM_plots_HARVcrop_df, coords = c("x", "y"),
crs = utm18nCRS)
# approximate the boundary box with random sample of raster points
CHM_plots_HARVcrop_sp_rand_sample = sample_n(CHM_plots_HARVcrop_sp, 10000)
new_extent <- ext(732161.2, 732238.7, 4713249, 4713333)
class(new_extent)
CHM_HARV_manual_cropped <- crop(x = CHM_HARV, y = new_extent)
CHM_HARV_manual_cropped_df <- as.data.frame(CHM_HARV_manual_cropped, xy = TRUE)
ggplot() +
geom_sf(data = aoi_boundary_HARV, color = "blue", fill = NA) +
geom_raster(data = CHM_HARV_manual_cropped_df,
aes(x = x, y = y, fill = HARV_chmCrop)) +
scale_fill_gradientn(name = "Canopy Height", colors = terrain.colors(10))
tree_height <- extract(x = CHM_HARV, y = aoi_boundary_HARV, raw = FALSE)
str(tree_height)
View(tree_height)
ggplot() +
geom_histogram(data = tree_height, aes(x = HARV_chmCrop)) +
ggtitle("Histogram of CHM Height Values (m)") +
xlab("Tree Height") +
ylab("Frequency of Pixels")
summary(tree_height$HARV_chmCrop)
mean_tree_height_AOI <- extract(x = CHM_HARV, y = aoi_boundary_HARV,
fun = mean)
mean_tree_height_AOI
mean_tree_height_tower <- extract(x = CHM_HARV,
y = st_buffer(point_HARV, dist = 20),
fun = mean)
mean_tree_height_tower
av_tree_height_20 <- extract(x = CHM_HARV,
y = st_buffer(plot_locations_sp_HARV, dist = 20)
fun = mean)
av_tree_height_20 <- extract(x = CHM_HARV,
y = st_buffer(plot_locations_sp_HARV, dist = 20),
fun = mean)
av_tree_height_20
ggplot() +
geom_histagram(data = CHM_HARV, aes(x = plot_locations_sp_HARV, y = av_tree_height_20))
ggplot() +
geom_histogram(data = CHM_HARV, aes(x = plot_locations_sp_HARV, y = av_tree_height_20))
View(av_tree_height_20)
ggplot() +
geom_histogram(data = av_tree_height_20, bins = 21)
ggplot() +
geom_histogram(av_tree_height_20)
ggplot() +
geom_histogram(av_tree_height_20, aes(x = ID, y = HARV_chmCrop))
ggplot() +
geom_histogram(data = av_tree_height_20, aes(x = ID, y = HARV_chmCrop)) +
ggtitle("Histogram of CHM Mean Height Values (m)") +
xlab("Tree Height") +
ylab("Frequency")
ggplot(data = av_tree_height_20, aes(x = ID, y = HARV_chmCrop)) +
ggtitle("Histogram of CHM Mean Height Values (m)") +
xlab("Tree Height") +
ylab("Frequency")
ggplot(data = av_tree_height_20, aes(y = HARV_chmCrop)) +
ggtitle("Histogram of CHM Mean Height Values (m)") +
xlab("Tree Height") +
ylab("Frequency")
ggplot(data = av_tree_height_20, aes(x = ID)) +
ggtitle("Histogram of CHM Mean Height Values (m)") +
xlab("Tree Height") +
ylab("Frequency")
ggplot(data = av_tree_height_20, aes(x = ID, y = HARV_chmCrop)) +
ggtitle("Histogram of CHM Mean Height Values (m)") +
xlab("Tree Height") +
ylab("Frequency")
ggplot(data = av_tree_height_20, aes(x = ID, y = HARV_chmCrop)) +
geom_col() +
ggtitle("Histogram of CHM Mean Height Values (m)") +
xlab("Tree Height") +
ylab("Frequency")
# extract data at each plot location
mean_tree_height_plots_HARV <- extract(x = CHM_HARV,
y = st_buffer(plot_locations_sp_HARV,
dist = 20),
fun = mean)
# view data
mean_tree_height_plots_HARV
# plot data
ggplot(data = mean_tree_height_plots_HARV, aes(ID, HARV_chmCrop)) +
geom_col() +
ggtitle("Mean Tree Height at each Plot") +
xlab("Plot ID") +
ylab("Tree Height (m)")
plot_locations_HARV <-
read.csv("data/NEON-DS-Site-Layout-Files/HARV/HARV_PlotLocations.csv")
str(plot_locations_HARV)
names(plot_locations_HARV)
View(plot_locations_HARV)
head(plot_locations_HARV$easting)
head(plot_locations_HARV$northing)
head(plot_locations_HARV$geodeticDa)
head(plot_locations_HARV$utmZone)
st_crs(point_HARV)
utm18nCRS <- st_crs(point_HARV)
utm18nCRS
class(utm18nCRS)
plot_locations_sp_HARV <- st_as_sf(plot_locations_HARV,
coords = c("easting", "northing"),
crs = utm18nCRS)
st_crs(plot_locations_sp_HARV)
ggplot() +
geom_sf(data = plot_locations_sp_HARV) +
ggtitle("Map of Plot Locations")
NewPhen_plots <- read.csv("data/NEON-DS-Site-Layout-Files/HARV/HARV_2NewPhenPlots.csv")
names(NewPhen_plots)
View(CHM_HARV_manual_cropped_df)
crs(CHM_plots_HARVcrop_df)
crs(CHM_plots_HARVCropped_df)
crs(CHM_plot_HARVCropped_df)
crs(CHM_plot_HARVCropped_df)
crs(CHM_plot_HARVCropped_sp)
crs(tree_height)
View(tree_height)
str(tree_height)
View(CHM_plots_HARVcrop)
st_crs(NewPhen_plots)
NewPhen_plots_df <- as.data.frame(NewPhen_plots, xy = TRUE)
View(NewPhen_plots_df)
View(country_boundary_US)
PhenCRS <- st_crs(country_boundary_US)
NewPhen_plots <- read.csv("data/NEON-DS-Site-Layout-Files/HARV/HARV_2NewPhenPlots.csv")
names(NewPhen_plots)
PhenCRS <- st_crs(country_boundary_US)
NewPhen_plots_df <- st_as_sf(NewPhen_plots,
coords = c("decimalLat", "decimalLon"),
crs = PhenCRS)
NewPhen_plots <- read.csv("data/NEON-DS-Site-Layout-Files/HARV/HARV_2NewPhenPlots.csv")
names(NewPhen_plots)
PhenCRS <- st_crs(country_boundary_US)
NewPhen_plots_df <- st_as_sf(NewPhen_plots,
coords = c("decimalLat", "decimalLon"),
crs = PhenCRS)
st_crs(NewPhen_plots_df)
ggplot() +
geom_sf(data = NewPhen_plots_df) +
geom_sf(data = plot_locations_sp_HARV)
NewPhen_plots <- read.csv("data/NEON-DS-Site-Layout-Files/HARV/HARV_2NewPhenPlots.csv")
names(NewPhen_plots)
PhenCRS <- st_crs(country_boundary_US)
NewPhen_plots_df <- st_as_sf(NewPhen_plots,
coords = c("decimalLat", "decimalLon"),
crs = PhenCRS)
st_crs(NewPhen_plots_df)
ggplot() +
geom_sf(data = NewPhen_plots_df, color = "red") +
geom_sf(data = plot_locations_sp_HARV, color = "blue")
ggplot() +
geom_sf(data = NewPhen_plots_df, color = "red") +
geom_sf(data = plot_locations_sp_HARV, color = "blue")
NewPhen_plots <- read.csv("data/NEON-DS-Site-Layout-Files/HARV/HARV_2NewPhenPlots.csv")
names(NewPhen_plots)
PhenCRS <- st_crs(country_boundary_US)
NewPhen_plots_df <- st_as_sf(NewPhen_plots,
coords = c("decimalLat", "decimalLon"),
crs = PhenCRS)
st_crs(NewPhen_plots_df)
ggplot() +
geom_sf(data = NewPhen_plots_df, color = "red") +
geom_sf(data = plot_locations_sp_HARV, color = "blue")
```{r}
library(terra)
library(ggplot2)
library(dplyr)
library(RColorBrewer)
library(sf)
rebel_rast <- rast("/Users/sydneyjames/OneDrive_UniversityofOregon/ds-environ-SJ/ds-environ/labs/data/soil-burn-severity/2017_rebel_sbs/rebel_sbs2.tif")
terwilliger_rast <- rast("/Users/sydneyjames/OneDrive_UniversityofOregon/ds-environ-SJ/ds-environ/labs/data/soil-burn-severity/2018_terwilliger_sbs/SoilSeverity.tif")
beachiecreek_rast <- rast("/Users/sydneyjames/OneDrive_UniversityofOregon/ds-environ-SJ/ds-environ/labs/data/soil-burn-severity/2020_beachiecreek_sbs/BeachieCreek_SBS_final.tif")
holiday_rast <- rast("/Users/sydneyjames/OneDrive_UniversityofOregon/ds-environ-SJ/ds-environ/labs/data/soil-burn-severity/2020_holidayfarm_sbs/HolidayFarm_SBS_final.tif")
summary(values(rebel_rast))
summary(values(holiday_rast))
summary(values(rebel_rast))
summary(values(terwilliger_rast))
holiday_df <- as.data.frame(holiday_rast, xy = TRUE)
holiday_df$Layer_1 <- as.factor(holiday_df$Layer_1)
ggplot() +
geom_raster(data = holiday_df,
aes(x = x, y = y, fill = Layer_1)) +
scale_fill_brewer(palette = "Spectral", direction=-1)
beachie_df <- as.data.frame(beachiecreek_rast, xy = TRUE)
beachie_df$Layer_1 <- as.factor(beachie_df$Layer_1)
ggplot() +
geom_raster(data = beachie_df,
aes(x = x, y = y, fill = Layer_1)) +
scale_fill_brewer(palette = "Spectral", direction=-1)
terwilliger_df <- as.data.frame(terwilliger_rast, xy = TRUE)
terwilliger_df$SoilBurnSe <- as.factor(terwilliger_df$SoilBurnSe)
ggplot() +
geom_raster(data = terwilliger_df,
aes(x = x, y = y, fill = SoilBurnSe)) +
scale_fill_brewer(palette = "Spectral", direction=-1)
crs(holiday_rast)
crs(terwilliger_rast)
crs(beachiecreek_rast)
res(holiday_rast)
res(terwilliger_rast)
res(beachiecreek_rast)
minmax(holiday_rast)
minmax(terwilliger_rast)
minmax(beachiecreek_rast)
holiday_rast[holiday_rast > 4] <- NA
summary(values(holiday_rast))
beachiecreek_rast[beachiecreek_rast > 4] <- NA
summary(values(beachiecreek_rast))
holiday_crs <- crs(holiday_rast)
beachiecreek_rast1 <- project(beachiecreek_rast, holiday_crs)
# This should return TRUE
crs(beachiecreek_rast1, proj = TRUE) == crs(holiday_rast, proj = TRUE)
Terwilliger_rast1 <- project(terwilliger_rast, holiday_crs, res = res(holiday_rast))
res(holiday_rast)
res(Terwilliger_rast1)
# This should return TRUE TRUE
crs(Terwilliger_rast1, proj = TRUE) == crs(holiday_rast, proj = TRUE)
res(Terwilliger_rast1)[2] == res(holiday_rast)[2]
New_terwilliger_df <- as.data.frame(Terwilliger_rast1, xy = TRUE)
New_beachie_df <- as.data.frame(beachiecreek_rast1, xy = TRUE)
New_beachie_df$Layer_1 <- as.factor(New_beachie_df$Layer_1)
New_terwilliger_df$SoilBurnSe <- as.factor(New_terwilliger_df$SoilBurnSe)
ggplot() +
geom_raster(data = holiday_df,
aes(x = x, y = y, fill = Layer_1)) +
geom_raster(data = New_beachie_df,
aes(x = x, y = y, fill = Layer_1)) +
geom_raster(data = New_terwilliger_df,
aes(x = x, y = y, fill = SoilBurnSe)) +  scale_fill_brewer(palette = "Spectral", direction=-1)
Terwilliger_rast1$SoilBurnSe
Terwilliger_rast1$SoilBurnSe
class(New_terwilliger_df$SoilBurnSe)
New_terwilliger_df$SoilBurnSe <- as.character(New_terwilliger_df$SoilBurnSe)
New_terwilliger_df[New_terwilliger_df == "Unburned"] <- "1"
New_terwilliger_df[New_terwilliger_df == "Low"] <- "2"
New_terwilliger_df[New_terwilliger_df == "Moderate"] <- "3"
New_terwilliger_df[New_terwilliger_df == "High"] <- "4"
New_terwilliger_df$SoilBurnSe <- as.factor(New_terwilliger_df$SoilBurnSe)
ggplot() +
geom_raster(data = holiday_df,
aes(x = x, y = y, fill = Layer_1)) +
geom_raster(data = New_beachie_df,
aes(x = x, y = y, fill = Layer_1)) +
geom_raster(data = New_terwilliger_df,
aes(x = x, y = y, fill = SoilBurnSe)) +  scale_fill_brewer(palette = "Spectral", direction=-1)
ecoregions <- st_read("/Users/sydneyjames/OneDrive_UniversityofOregon/ds-environ-SJ/ds-environ/labs/data/OR-ecoregions/Ecoregions_OregonConservationStrategy.shp")
View(ecoregions)
crs(ecoregions)
ggplot() +
geom_raster(data = holiday_df,
aes(x = x, y = y, fill = Layer_1)) +
geom_raster(data = New_beachie_df,
aes(x = x, y = y, fill = Layer_1)) +
geom_raster(data = New_terwilliger_df,
aes(x = x, y = y, fill = SoilBurnSe)) +  scale_fill_brewer(palette = "Spectral", direction=-1) +
geom_sf(data = ecoregions, color = "red")
View(holiday_df)
View(New_terwilliger_df)
ggplot() +
geom_bar(New_terwilliger_df, aes(x = x, y = count(SoilBurnSe)/sum(count(SoilBurnSe)), fill = as.factor(Layer_1))) +
scale_fill_brewer(palette = "Spectral", direction=-1)
ggplot() +
geom_bar(New_terwilliger_df,
aes(x = x, y = count(SoilBurnSe)/sum(count(SoilBurnSe)), fill = as.factor(Layer_1))) +
scale_fill_brewer(palette = "Spectral", direction=-1)
New_terwilliger_df <- as.data.frame(Terwilliger_rast1, xy = TRUE)
New_beachie_df <- as.data.frame(beachiecreek_rast1, xy = TRUE)
New_beachie_df$Layer_1 <- as.factor(New_beachie_df$Layer_1)
New_terwilliger_df$SoilBurnSe <- as.factor(New_terwilliger_df$SoilBurnSe)
ggplot() +
geom_raster(data = holiday_df,
aes(x = x, y = y, fill = Layer_1)) +
geom_raster(data = New_beachie_df,
aes(x = x, y = y, fill = Layer_1)) +
geom_raster(data = New_terwilliger_df,
aes(x = x, y = y, fill = SoilBurnSe)) +  scale_fill_brewer(palette = "Spectral", direction=-1)
View(New_beachie_df)
View(rebel_rast)
class(New_beachie_df$Layer_1)
class(New_beachie_df$Layer_1)
class(New_beachie_df$Layer_1)
New_beachie_df$Layer_1<- as.numberic(New_beachie_df$Layer_1)
New_beachie_df$Layer_1<- as.numberic(New_beachie_df$Layer_1)
View(holiday_df)
class(New_beachie_df$Layer_1)
New_beachie_df$Layer_1<- as.numberic(New_beachie_df$Layer_1)
ggplot() +
geom_bar(New_terwilliger_df,
aes(x = x, y = count(SoilBurnSe)/sum(count(SoilBurnSe)), fill = as.factor(Layer_1))) +
scale_fill_brewer(palette = "Spectral", direction=-1)
ggplot() +
geom_bar(New_terwilliger_df,
aes(x = x, y = count(SoilBurnSe)/sum(count(SoilBurnSe)), fill = as.factor(SoilBurnSe))) +
scale_fill_brewer(palette = "Spectral", direction=-1)
class(New_terwilliger_df$SoilBurnSe)
New_terwilliger_df$SoilBurnSe <- as.character(New_terwilliger_df$SoilBurnSe)
New_terwilliger_df[New_terwilliger_df == "Unburned"] <- "1"
New_terwilliger_df[New_terwilliger_df == "Low"] <- "2"
New_terwilliger_df[New_terwilliger_df == "Moderate"] <- "3"
New_terwilliger_df[New_terwilliger_df == "High"] <- "4"
New_terwilliger_df$SoilBurnSe <- as.factor(New_terwilliger_df$SoilBurnSe)
class(New_beachie_df$Layer_1)
New_beachie_df$Layer_1<- as.numberic(New_beachie_df$Layer_1)
ggplot() +
geom_bar(New_terwilliger_df,
aes(x = x, y = count(SoilBurnSe)/sum(count(SoilBurnSe)), fill = as.factor(SoilBurnSe))) +
scale_fill_brewer(palette = "Spectral", direction=-1)
ggplot() +
geom_bar(New_terwilliger_df,
aes(x = x, y = count(SoilBurnSe)/sum(count(SoilBurnSe)), fill = as.factor(SoilBurnSe)))+
scale_fill_brewer(palette = "Spectral", direction=-1)
New_terwilliger_df <- as.data.frame(Terwilliger_rast1, xy = TRUE)
New_beachie_df <- as.data.frame(beachiecreek_rast1, xy = TRUE)
New_beachie_df$Layer_1 <- as.factor(New_beachie_df$Layer_1)
New_terwilliger_df$SoilBurnSe <- as.factor(New_terwilliger_df$SoilBurnSe)
ggplot() +
geom_raster(data = holiday_df,
aes(x = x, y = y, fill = Layer_1)) +
geom_raster(data = New_beachie_df,
aes(x = x, y = y, fill = Layer_1)) +
geom_raster(data = New_terwilliger_df,
aes(x = x, y = y, fill = SoilBurnSe)) +  scale_fill_brewer(palette = "Spectral", direction=-1)
ggplot() +
geom_raster(data = holiday_df,
aes(x = x, y = y, fill = Layer_1)) +
geom_raster(data = New_beachie_df,
aes(x = x, y = y, fill = Layer_1)) +
geom_raster(data = New_terwilliger_df,
aes(x = x, y = y, fill = SoilBurnSe)) +  scale_fill_brewer(palette = "Spectral", direction=-1)
ggplot() +
geom_tile(data = holiday_df,
aes(x = x, y = y, fill = Layer_1)) +
geom_tile(data = New_beachie_df,
aes(x = x, y = y, fill = Layer_1)) +
geom_tile(data = New_terwilliger_df,
aes(x = x, y = y, fill = SoilBurnSe)) +  scale_fill_brewer(palette = "Spectral", direction=-1)
class(New_terwilliger_df$SoilBurnSe)
ggplot() +
geom_bar(New_terwilliger_df,
aes(x = x, y = count(SoilBurnSe)/sum(count(SoilBurnSe)), fill = SoilBurnSe))+
scale_fill_brewer(palette = "Spectral", direction=-1)
ggplot() +
geom_bar(New_terwilliger_df,
aes(x = x, y = count(SoilBurnSe)/sum(count(SoilBurnSe)), fill = SoilBurnSe))+
geom_bar(New_beachie_df,
aes(x = x, y = count(SoilBurnSe)/sum(count(SoilBurnSe)), fill = Layer_1))+
scale_fill_brewer(palette = "Spectral", direction=-1)
ggplot() +
geom_raster(data = holiday_df,
aes(x = x, y = y, fill = Layer_1))
ggplot() +
geom_raster(data = holiday_df,
aes(x = x, y = y, fill = Layer_1)) +
geom_raster(data = New_beachie_df,
aes(x = x, y = y, fill = Layer_1))
ggplot() +
geom_bar(New_terwilliger_df,
aes(x = x, y = count(SoilBurnSe)/sum(count(SoilBurnSe)), fill = SoilBurnSe))+
geom_bar(New_beachie_df,
aes(x = x, y = count(Layer_1)/sum(count(Layer_1)), fill = Layer_1))+
scale_fill_brewer(palette = "Spectral", direction=-1)
ggplot() +
geom_bar(New_terwilliger_df,
aes(x = x, y = (count(SoilBurnSe))/(sum(count(SoilBurnSe))), fill = SoilBurnSe))+
geom_bar(New_beachie_df,
aes(x = x, y = count(Layer_1)/sum(count(Layer_1)), fill = Layer_1))+
scale_fill_brewer(palette = "Spectral", direction=-1)
ggplot() +
geom_bar(data = New_terwilliger_df,
aes(x = x, y = (count(SoilBurnSe))/(sum(count(SoilBurnSe))), fill = SoilBurnSe))+
geom_bar(data = New_beachie_df,
aes(x = x, y = count(Layer_1)/sum(count(Layer_1)), fill = Layer_1))+
scale_fill_brewer(palette = "Spectral", direction=-1)
knitr::opts_chunk$set(echo = TRUE)
install.packages("bipartite")
library(bipartite)
veg <- read.csv("./data/veg.csv")
install.packages("bipartite")
library(bipartite)
veg <- read.csv("/Users/sydneyjames/OneDrive_UniversityofOregon/final_community_assembly-SJIN/data/veg.csv")
ints <- read.csv("/Users/sydneyjames/OneDrive_UniversityofOregon/final_community_assembly-SJIN/data/Holiday_PP_Interaction.csv")
â€‹
install.packages("bipartite")
veg <- read.csv("/Users/sydneyjames/OneDrive_UniversityofOregon/final_community_assembly-SJIN/data/veg.csv")
ints <- read.csv("/Users/sydneyjames/OneDrive_UniversityofOregon/final_community_assembly-SJIN/data/Holiday_PP_Interaction.csv")
str(veg)
unique(veg$Stand)
Hstands <- paste(c("604","605","607","611","700","702","704","705"),"Holiday",sep=":")
veg <- veg[veg$Stand%in%Hstands,]
table(veg$PlantGenusSpecies, veg$Site)
veg <- veg[veg$Site==6,]
write.csv(veg, "./data/vegHoliday.csv")
str(veg)
str(ints)
unique(ints$Stand)
Hstands24 <- paste("2024",Hstands,sep="_")
ints <- ints[ints$Stand%in%Hstands24,]
head(ints)
unique(ints$PlantGenusSpecies)
saveRDS(Hstands24, file = "/Users/sydneyjames/OneDrive_UniversityofOregon/final_community_assembly-SJIN/data/subsetted_Jasmin_data.RDS")
Jasmin <- readRDS("/Users/sydneyjames/OneDrive_UniversityofOregon/final_community_assembly-SJIN/data/subsetted_Jasmin_data.RDS")
ggplot() +
geom_bar(data = New_terwilliger_df,
aes(x = x, y = (count(SoilBurnSe))/(sum(count(SoilBurnSe))), fill = SoilBurnSe))+
geom_bar(data = New_beachie_df,
aes(x = x, y = count(Layer_1)/sum(count(Layer_1)), fill = Layer_1))+
scale_fill_brewer(palette = "Spectral", direction=-1)
ggplot() +
geom_bar(data = New_terwilliger_df,
aes(x = x, fill = SoilBurnSe), position = "fill") +
geom_bar(data = New_beachie_df,
aes(x = x, fill = Layer_1), position = "fill", alpha = 0.5) +
scale_fill_brewer(palette = "Spectral", direction = -1)
